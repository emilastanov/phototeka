!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t["redux-zero"]={},t.React)}(this,function(t,i){"use strict";var o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function p(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var s=function(){return(s=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function n(t,n,e){return"object"==typeof t?null:new Error("Invalid prop "+n+" supplied to "+e)}var e,u=(p(r,e=i.Component),r.prototype.componentWillMount=function(){this.unsubscribe=this.context.store.subscribe(this.update)},r.prototype.componentWillUnmount=function(){this.unsubscribe(this.update)},r.prototype.getProps=function(){var t=this.props.mapToProps,n=this.context.store&&this.context.store.getState()||{};return t?t(n,this.props):n},r.prototype.getActions=function(){return function(r,i,t){function n(o){e[o]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=r[o];return"function"==typeof i.middleware?i.middleware(i,e,t):function(t,n){if(null!=n){if(n.then)return n.then(t.setState);t.setState(n)}}(i,e.apply(void 0,[i.getState()].concat(t)))}}r="function"==typeof r?r(i,t):r;var e={};for(var o in r)n(o);return e}(this.props.actions,this.context.store,this.props)},r.prototype.render=function(){return this.props.children(s({store:this.context.store},this.state,this.actions))},r.contextTypes={store:n},r);function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=n.getProps(),n.actions=n.getActions(),n.update=function(){var t=n.getProps();!function(t,n){for(var e in t)if(t[e]!==n[e])return!1;for(var e in n)if(!(e in t))return!1;return!0}(t,n.state)&&n.setState(t)},n}var c,a=(p(f,c=i.Component),f.prototype.getChildContext=function(){return{store:this.props.store}},f.prototype.render=function(){var t=this.props.children;return i.Children.only(t)},f.childContextTypes={store:n},f);function f(){return null!==c&&c.apply(this,arguments)||this}t.connect=function(o,r){return void 0===r&&(r={}),function(e){return p(t,n=i.Component),t.prototype.render=function(){var n=this.props;return i.createElement(u,s({},n,{mapToProps:o,actions:r}),function(t){return i.createElement(e,s({},t,n))})},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}},t.Provider=a,t.Connect=u,Object.defineProperty(t,"__esModule",{value:!0})});
